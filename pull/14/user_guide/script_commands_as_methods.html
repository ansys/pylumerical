
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Script commands as methods &#8212; PyLumerical</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../_static/documentation_options.js?v=e7fb764e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f245db63"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/script_commands_as_methods';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https:///versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Working with simulation objects" href="working_with_simulation_objects.html" />
    <link rel="prev" title="Session management" href="session_management.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.1.dev0" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Optics" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyLumerical - Home"/>
    <img src="../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyLumerical - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html" title="PyLumerical home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started/index.html">
    Installation and getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../contributing.html">
    Contributing
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pylumerical" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html" title="PyLumerical home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started/index.html">
    Installation and getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contributing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pylumerical" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="session_management.html">Session management</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Script commands as methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_simulation_objects.html">Working with simulation objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="passing_data.html">Passing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessing_simulation_results.html">Accessing simulation results</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">User guide</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Script commands as methods</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="script-commands-as-methods">
<span id="ref-script-commands-as-methods"></span><h1>Script commands as methods<a class="headerlink" href="#script-commands-as-methods" title="Link to this heading">#</a></h1>
<p>At the most basic level, you can use PyLumerical to directly invoke Lumerical script commands and interact with the product as the Lumerical Scripting Language would.</p>
<p>This article describes the basic use case for using scripting commands as methods, and common best practices.</p>
<section id="built-in-scripting-commands">
<h2>Built-in scripting commands<a class="headerlink" href="#built-in-scripting-commands" title="Link to this heading">#</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h3>
<p>You can use almost all script commands in the Lumerical Scripting Language as methods on your session object in Python.
The PyLumerical methods and the Lumerical script commands share the same name, and you can call them directly on the session object once you create it.</p>
<p>For more information on the Lumerical Scripting Language, please see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://courses.ansys.com/index.php/courses/ansys-lumerical-scripting/">Lumerical Scripting Learning Track on Ansys Innovation Courses (AIC)</a></p></li>
<li><p><a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034923553">Lumerical Scripting Language - Alphabetical list</a></p></li>
<li><p><a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360037228834">Lumerical Scripting Language - By category</a></p></li>
</ul>
<p>Two simple examples are show below. The first example uses Lumerical commands <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034409694-getfdtdindex-Script-command">getfdtdindex</a> and <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034406254-stackrt-Script-command">stackrt</a>  in conjunction with typical math and plotting libraries in Python to simulate and visualize the transmission of a gold thin film illuminated by a plane wave.
The second example sets up and runs a simple simulation with a gaussian source and a frequency domain monitor.</p>
<p><strong>Example</strong></p>
<p>For more information on how to install PyLumerical and import the modules, see <a class="reference internal" href="../getting_started/index.html"><span class="doc">Installation and getting started for PyLumerical</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ansys.lumerical.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">lumapi</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="k">with</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span> <span class="k">as</span> <span class="n">fdtd</span><span class="p">:</span>
    <span class="n">lambda_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">300e-9</span><span class="p">,</span> <span class="mf">1100e-9</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
    <span class="n">c</span><span class="o">=</span><span class="mf">2.99792458e8</span>
    <span class="n">f_range</span> <span class="o">=</span> <span class="n">c</span><span class="o">/</span><span class="n">lambda_range</span>

    <span class="c1"># Use the getfdtdindex command to obtain the correct complex index for gold</span>
    <span class="n">au_index</span> <span class="o">=</span> <span class="n">fdtd</span><span class="o">.</span><span class="n">getfdtdindex</span><span class="p">(</span><span class="s2">&quot;Au (Gold) - CRC&quot;</span><span class="p">,</span> <span class="n">f_range</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">f_range</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">f_range</span><span class="p">))</span>

    <span class="c1"># Use the stackrt command to calculate the transmission and reflection</span>
    <span class="n">stackRT_result</span> <span class="o">=</span> <span class="n">fdtd</span><span class="o">.</span><span class="n">stackrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">au_index</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">10e-9</span><span class="p">]),</span> <span class="n">f_range</span><span class="p">)</span>


<span class="c1"># Visualize using matplotlib</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lambda_range</span><span class="o">*</span><span class="mf">1e9</span><span class="p">,</span> <span class="n">stackRT_result</span><span class="p">[</span><span class="s2">&quot;Ts&quot;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Transmission&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Wavelength [nm]&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Transmission&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">Lumerical</span><span class="se">\\</span><span class="s2">v251</span><span class="se">\\</span><span class="s2">api</span><span class="se">\\</span><span class="s2">python</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># locate lumapi files</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.lumerical.core</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">lumapi</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>


<span class="k">with</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span> <span class="k">as</span> <span class="n">fdtd</span><span class="p">:</span>

    <span class="c1"># Set up simulation region</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">()</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span><span class="mf">8e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y span&quot;</span><span class="p">,</span><span class="mf">8e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="mf">0.25e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z span&quot;</span><span class="p">,</span><span class="mf">0.5e-6</span><span class="p">)</span>

    <span class="c1"># Set up source</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">addgaussian</span><span class="p">()</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;injection axis&quot;</span><span class="p">,</span><span class="s2">&quot;z&quot;</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;direction&quot;</span><span class="p">,</span><span class="s2">&quot;forward&quot;</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span><span class="mf">16e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y span&quot;</span><span class="p">,</span><span class="mf">16e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="mf">0.2e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;use scalar approximation&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;waist radius w0&quot;</span><span class="p">,</span><span class="mf">2e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;distance from waist&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">setglobalsource</span><span class="p">(</span><span class="s2">&quot;wavelength start&quot;</span><span class="p">,</span><span class="mf">1e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">setglobalsource</span><span class="p">(</span><span class="s2">&quot;wavelength stop&quot;</span><span class="p">,</span><span class="mf">1e-6</span><span class="p">)</span>

    <span class="c1"># Set up monitor</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">addpower</span><span class="p">()</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;monitor type&quot;</span><span class="p">,</span><span class="s2">&quot;2D Z-normal&quot;</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span><span class="mf">16e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y span&quot;</span><span class="p">,</span><span class="mf">16e-6</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="mf">0.3e-6</span><span class="p">)</span>

    <span class="c1"># Run simulation</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;fdtd_tutorial.fsp&quot;</span><span class="p">)</span>
    <span class="n">fdtd</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="constructor-script-commands">
<h3>Constructor script commands<a class="headerlink" href="#constructor-script-commands" title="Link to this heading">#</a></h3>
<p>You can use many script commands to add simulation objects such simulation regions or geometric regions. These commands typically start with “add”, for example, <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034404214-addrect-Script-command">addrect</a> or <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034924173-addfdtd-Script-command">addfdtd</a>.</p>
<p>In PyLumerical, you can create simulation objects in many different ways.
At a fundamental level, you can create objects and have their properties set like a Lumerical script using <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034928773-set-Script-command">set</a> and <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034928793-setnamed-Script-command">setnamed</a>.</p>
<p>In addition, PyLumerical also supports assigning properties to object in a way more native to Python, either by creating a dictionary and assigning it to the properties attribute during initialization or using keyword arguments directly.
When constructing objects using these methods, you may need to initialize some properties in order, and some properties may overwrite other properties. Therefore, it’s recommended to use an ordered dictionary to ensure that you set these properties as intended.</p>
<p>The examples below show various methods on object construction.
For more information regarding adding and manipulating simulation objects, including best practices, see the article on <a class="reference internal" href="working_with_simulation_objects.html"><span class="doc">Working with simulation objects</span></a>.
When a property has a space in its name, for example, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">span</span></code>, the name for keyword arguments uses an underscore instead of space, for example, <code class="docutils literal notranslate"><span class="pre">x_span</span></code>.</p>
<p><strong>Example</strong></p>
<p>These examples create a 3D FDTD region centered at the origin and with a span of 1μm.</p>
<p>Firstly, using the Lumerical script commands:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">()</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span><span class="mf">1e-6</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;y span&quot;</span><span class="p">,</span><span class="mf">1e-6</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;z span&quot;</span><span class="p">,</span><span class="mf">1e-6</span><span class="p">)</span>
</pre></div>
</div>
<p>The following code creates the FDTD region uses an ordered dictionary to set its properties.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">OrderedDict</span> <span class="c1"># Ensure OrderedDict is imported</span>
<span class="c1"># import other modules</span>

<span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>
<span class="n">props</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span> <span class="mf">1e-6</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;y span&quot;</span><span class="p">,</span> <span class="mf">1e-6</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;z span&quot;</span><span class="p">,</span> <span class="mf">1e-6</span><span class="p">)])</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">(</span><span class="n">properties</span> <span class="o">=</span> <span class="n">props</span><span class="p">)</span>
</pre></div>
</div>
<p>The following code creates the FDTD region using keyword arguments</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">x_span</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="n">y_span</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="n">z_span</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">)</span> <span class="c1"># Note that the property names where a space was present is replaced by an underscore</span>
</pre></div>
</div>
<p>For more information regarding adding and manipulating simulation objects, including other ways to interact with these objects and best practices see the article on <a class="reference internal" href="working_with_simulation_objects.html"><span class="doc">Working with simulation objects</span></a>.</p>
</section>
</section>
<section id="importing-custom-script-commands">
<h2>Importing custom script commands<a class="headerlink" href="#importing-custom-script-commands" title="Link to this heading">#</a></h2>
<p>In addition to default script commands, you can also take advantage of the auto-syncing function feature in PyLumerical and import functions that are pre-defined in a Lumerical script file (.lsf file).
To import these functions, you can either execute the scripts while constructing the session using the <a class="reference internal" href="../api/interface_class.html"><span class="doc">script keyword argument</span></a>, or manually evaluating the file using the <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.FDTD.eval.html#ansys.lumerical.core.FDTD.eval" title="ansys.lumerical.core.FDTD.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.FDTD.eval()</span></code></a> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.FDTD.eval.html#ansys.lumerical.core.FDTD.eval" title="ansys.lumerical.core.FDTD.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.FDTD.eval()</span></code></a> is common to all products, and is available as <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.MODE.eval.html#ansys.lumerical.core.MODE.eval" title="ansys.lumerical.core.MODE.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.MODE.eval()</span></code></a>, <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.DEVICE.eval.html#ansys.lumerical.core.DEVICE.eval" title="ansys.lumerical.core.DEVICE.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.DEVICE.eval()</span></code></a>, and <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.INTERCONNECT.eval.html#ansys.lumerical.core.INTERCONNECT.eval" title="ansys.lumerical.core.INTERCONNECT.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.INTERCONNECT.eval()</span></code></a>.</p>
</div>
<p><strong>Example</strong></p>
<p>The following two .lsf files contains custom functions.</p>
<p>MyFunctions.lsf</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">helloWorld</span><span class="p">(){</span>
<span class="k">return</span> <span class="s2">&quot;helloworld&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span> <span class="n">customAdd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">){</span>
<span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>MyFunctions2.lsf</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">customMultiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">){</span>
<span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following script imports functions from both custom script files upon session creation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">(</span><span class="n">script</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;MyFunctions.lsf&quot;</span><span class="p">,</span> <span class="s2">&quot;MyFunctions2.lsf&quot;</span><span class="p">])</span> <span class="k">as</span> <span class="n">fdtd</span><span class="p">:</span>
<span class="c1"># From MyFunctions.lsf</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fdtd</span><span class="o">.</span><span class="n">helloWorld</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fdtd</span><span class="o">.</span><span class="n">customAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="c1"># From MyFunctions2.lsf</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fdtd</span><span class="o">.</span><span class="n">customMultiply</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>Returns</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helloworld</span>
<span class="mf">3.0</span>
<span class="mf">20.0</span>
</pre></div>
</div>
</section>
<section id="non-constructor-script-commands">
<h2>Non-constructor script commands<a class="headerlink" href="#non-constructor-script-commands" title="Link to this heading">#</a></h2>
<p>For script commands that needs input arguments, but don’t create simulation objects, you can only use them with position arguments and not keyword arguments.</p>
<p>For example, the following code results in an error, even though the <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034928773-set-Script-command">set</a> script command takes property and value as input arguments.</p>
<p><strong>Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">()</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">property</span> <span class="o">=</span> <span class="s2">&quot;x span&quot;</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="mf">1e-6</span><span class="p">)</span>

<span class="c1"># Results in an error</span>
</pre></div>
</div>
<p>The correct usage is the following.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">()</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;x span&quot;</span><span class="p">,</span> <span class="mf">1e-6</span><span class="p">)</span>
</pre></div>
</div>
<p>This applies also to methods defined in other scripting files that are loaded by first evaluating the script file.</p>
<p><strong>Example</strong></p>
<p>A Lumerical script file named MyConstructor.lsf contains the following function definition.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">constructFDTDandRect</span><span class="p">(</span><span class="n">x_input</span><span class="p">,</span><span class="n">y_input</span><span class="p">,</span><span class="n">z_input</span><span class="p">){</span>
<span class="c1"># This function creates an FDTD and a rectangle region with center coordinates at x, y, and z</span>
<span class="n">addfdtd</span><span class="p">;</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="n">x_input</span><span class="p">);</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="n">y_input</span><span class="p">);</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="n">z_input</span><span class="p">);</span>

<span class="n">addrect</span><span class="p">;</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="n">x_input</span><span class="p">);</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span><span class="n">y_input</span><span class="p">);</span>
<span class="nb">set</span><span class="p">(</span><span class="s2">&quot;z&quot;</span><span class="p">,</span><span class="n">z_input</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following Python driver script causes an error, even though the function defined in the script file have arguments named x_input, y_input, and z_input.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>
<span class="n">custom_code</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;MyConstructor.lsf&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="c1"># This assumes the current working directory has a file named “MyConstructor.lsf”. Use os.chdir to change the current working directory if needed.</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">custom_code</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">constructFDTDandRect</span><span class="p">(</span><span class="n">x_input</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y_input</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">z_input</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Results in error</span>
</pre></div>
</div>
<p>In contrast, the following driver script executes without error, and add both the FDTD region as well as the rectangle.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>
<span class="n">custom_code</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;MyConstructor.lsf&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="c1"># This assumes the current working directory has a file named “MyConstructor.lsf”. Use os.chdir to change the current working directory if needed.</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">custom_code</span><span class="p">)</span>
<span class="n">fdtd</span><span class="o">.</span><span class="n">constructFDTDandRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="unsupported-methods">
<h2>Unsupported methods<a class="headerlink" href="#unsupported-methods" title="Link to this heading">#</a></h2>
<p>While most script commands are available, there are a few categories of commands that aren’t available for use in PyLumerical. For example, certain reserved keywords, such as “c” for the speed of light, are unavailable in Python.
If you requires access to these variables, it’s best to either define them in Python, or to use the <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.FDTD.eval.html#ansys.lumerical.core.FDTD.eval" title="ansys.lumerical.core.FDTD.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.FDTD.eval()</span></code></a> method.
However, if the <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.FDTD.eval.html#ansys.lumerical.core.FDTD.eval" title="ansys.lumerical.core.FDTD.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.FDTD.eval()</span></code></a> method is used, you should be mindful that the variables in the Python and Lumerical scripting environments are not automatically shared.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.FDTD.eval.html#ansys.lumerical.core.FDTD.eval" title="ansys.lumerical.core.FDTD.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.FDTD.eval()</span></code></a> method is common to all products, and is available as <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.MODE.eval.html#ansys.lumerical.core.MODE.eval" title="ansys.lumerical.core.MODE.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.MODE.eval()</span></code></a>, <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.DEVICE.eval.html#ansys.lumerical.core.DEVICE.eval" title="ansys.lumerical.core.DEVICE.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.DEVICE.eval()</span></code></a>, and <a class="reference internal" href="../api/_autosummary/ansys.lumerical.core.INTERCONNECT.eval.html#ansys.lumerical.core.INTERCONNECT.eval" title="ansys.lumerical.core.INTERCONNECT.eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansys.lumerical.core.INTERCONNECT.eval()</span></code></a>.</p>
</div>
<p><strong>Operators</strong></p>
<p>PyLumerical doesn’t overload script operators in the Lumerical Scripting Language, and you can’t use them “as-is” in Python. Use alternatives in Python. The unavailable operators include:</p>
<ul class="simple">
<li><p>Algebraic–For example,  <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930833">*</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930853">/</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410254">+</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930873">-</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410274">^</a></p></li>
<li><p>Logical–For example,  <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930933">&gt;=</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410334">&lt;</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930953">&gt;</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930973">&amp;</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410354">and</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410374">|</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034930993">or</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034931013">!</a> , <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034931033">~</a></p></li>
<li><p>The  <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034410434">? (print, display)</a> operator used to screen and query available results</p></li>
</ul>
</section>
<section id="local-documentation">
<h2>Local documentation<a class="headerlink" href="#local-documentation" title="Link to this heading">#</a></h2>
<p>For information on the PyLumerical methods from within the environment, Python docstrings are available for Lumerical session objects. This is the simplest way to determine the available script commands, and syntax.
This contains information similar to <a class="reference external" href="https://optics.ansys.com/hc/en-us/articles/360034923553">Alphabetical List of Script Commands</a>.
You can view the docstring by using the Python built-in function “help” or most ways rich interactive Python shells display docstrings, for example IPython or Jupyter Notebook.</p>
<p><strong>Example</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, create an FDTD object</span>
<span class="n">fdtd</span> <span class="o">=</span> <span class="n">lumapi</span><span class="o">.</span><span class="n">FDTD</span><span class="p">()</span>

<span class="c1"># Then, use the help function to view the docstring</span>
<span class="n">help</span><span class="p">(</span><span class="n">fdtd</span><span class="o">.</span><span class="n">addfdtd</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Help on method addfdtd in module lumapi:
addfdtd(self, *args) method of lumapi.FDTD instance
Adds an FDTD solver region to the simulation environment.  The extent of
the solver region determines the simulated volume/area in FDTD
Solutions.
+-----------------------------------+-----------------------------------+
| Syntax                            | Description                       |
+-----------------------------------+-----------------------------------+
| o.addfdtd()                       | Adds an FDTD solver region to the |
|                                   | simulation environment.           |
|                                   |                                   |
|                                   | This function does not return any |
|                                   | data.                             |
+-----------------------------------+-----------------------------------+
See Also
set(), run()
https://kb.lumerical.com/en/ref_scripts_addfdtd.html
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-scripting-commands">Built-in scripting commands</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#constructor-script-commands">Constructor script commands</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-custom-script-commands">Importing custom script commands</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#non-constructor-script-commands">Non-constructor script commands</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unsupported-methods">Unsupported methods</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#local-documentation">Local documentation</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
<!-- If there is no fix edit button function, use the PyData edit-this-button-->
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/script_commands_as_methods.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../_static/search.json";
const ADVANCE_SEARCH_PATH = "../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2025 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.3. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>